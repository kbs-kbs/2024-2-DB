# 데이터베이스 시스템
## 데이터베이스 시스템의 구성 요소

1. DBMS
2. 데이터 모델
3. 데이터베이스
4. 데이터베이스 언어
5. DB 서버
6. 사용자

## 1. DBMS
### DBMS 필수 기능 3

1. 정의 기능: 데이터 구조 생성, 수정, 삭제
2. 조작 기능: 데이터 추가, 수정, 삭제
3. 제어 기능: 데이터 제약 조건, 권한 설정

### DBMS 구성 요소 3

1. 질의 처리기
2. 런타임 데이터베이스 처리기
   - 트랜젝션 관리기
3. 데이터 저장 관리기
   - 버퍼 관리기
   - 파일 관리기

### 트랜젝션

송금 시 출금과 입금이 하나의 트랜젝션

**트랜젝션의 특징 4**

1. 원자성: 두 단계가 하나 (출금 실패시 입금 안됨)
2. 일관성: 받는 데이터와 주는 데이터가 일치
3. 고립성: 다른 트랜젝션의 영향 받지 않음
4. 지속성: 트랜젝션 후 결과는 영구 반영

## 2. 데이터 모델
### 데이터 모델의 종류 5

|구분|계층형|네트워크형|관계형|객체 지향형|객체 관계형|
|---|---|---|---|---|---|
|연관 관계|포인터|포인터|키 열|OID(객체 식별자)||
|계층 구조|트리|네트워크||||
|구조|1:n|m:n||||
|특징||||현실과 유사, 상속, 캡슐화|관계형 + 객체 기능|

### 데이터 모델에 따른 DBMS

|세대|데이터 모델|데이터베이스|DBMS|예|
|---|---|---|---|---|
|1|계층형|HDB|HDBMS||
||네트워크형|NDB|NDBMS||
|2|관계형|RDB(SQL DB)|RDBMS|MySQL, PostgreSQL|
|3|객체 지향형|OODB|OODBMS||
||객체 관계형|ORDB|ORDBMS||
|4|비관계형|NoSQL DB|NoSQL DBMS|MongoDB|

## 3. 데이터베이스

### 3단계 데이터베이스

**스키마**: 구조와 제약 조건을 정의   
예) `학생(학번, 이름, 학년, 성별)`

```
CREATE TABLE Person (
  ID INT PRIMARY KEY,
  Name VARCHAR(255),
  Age INT CHECK()
)
```



## 4. 데이터베이스 언어
### SQL

표준 데이터베이스 언어

### DB 언어 종류 3

1. **데이터 정의어(DDL)**: `CREATE`, `ALTER`, `DROP`
2. **데이터 조작어(DML)**: `INSERT`, `UPDATE`, `DELETE`, `SELECT`
3. **데이터 제어어(DCL)**: `GRANT`, `REVOKE`, `COMMIT`, `ROLLBACK`



## 5. DB 서버

서버 안에 DB와 DBMS가 물리적으로 저장

## 6. 사용자
- **일반 사용자(end user)**: 전문 지식 없이 데이터베이스에 접근
- **응용 프로그래머**: 응용 프로그램을 개발할 목적으로 데이터베이스에 접근
- **데이터베이스 관리자(DBA; Database Administrator, super user)**: 데이터베이스를 구축하고 데이터베이스 시스템을 자체적으로 운영, 통제

**사용자 유형별 사용 데이터 언어와 기능**:

|사용자|숙련도|DB 언어|필수 기능|
|---|---|---|---|
|일반 사용자|초급||조작 기능|
||중급|DML|조작 기능|
|응용 프로그래머||DDL, DML|정의, 조작 기능|
|데이터베이스 관리자||DDL, DML, DCL|정의, 조작, 제어 기능|






개념 스키마: 보통 이것을 스키마라 부름
데이터베이스가 가지는 정보들을 정의

외부 스키마: 데이터베이스가 가지는 컬럼들의 부분집합(표)을 정의

내부 스키마: 전체 데이터베이스의 내부 구조를 정의
컬럼의 이름, 자료형, 인덱스 유무 등을 정의

dbms의 데이터 독립성 제공
유저네임이라는 컬럼명(내부 스키마)을 네임으로 바구면 어플리케이션 (외부스키마)에 빨간줄 그음.




30개

dbms 장점
- 데이터의 표준화
- 데이터의 일관성
- 데이터의 무결성

db 스키마 구조
내부, 외부, 개념스키마

dbms 필수 기능
ddl(정의), dml(조작), dcl(제어)

카디널리티 5 차수 5 x 카디널리티 3 차수 3 = 카디널리티 15 차수 8

속성을 갖는 2차원 테이블 = 릴레이션
열 = 속성
행 = 튜플
열 개수 = 차수
행 개수 = 카디널리티

select 이름 from 학생
where 학년 = (1, 2, 3, 4); -- (x) in (1, 2, 3, 4) (o)

= null (x)
is null (o)

order 학년 (x) order by 학년 (o)

where 이름 like '한%' (o)

다음 학생 테이블에 대해 1학년부터 4학년 순으로 학년별 평균 성적을 검색하라.

select (학년) (AVG) (성적) from 학생
(group by) 학년
(order by) 학년 ASC

뷰는 create view 로 생성가능 o
alter view로 삭제가능 x
뷰 안에서 select 로 검색가능 o
물리적으로 저장 x
삭제해도 기반 릴레이션 영향 x
뷰 갱신 삭제 제약이 있음 o
뷰를 기반으로 뷰 생성 o
뷰는 데이터의 보안 유지 o

데이터베이스 사용자 초급, 중급, 응용프로그래머 3가지 (x) 관리자까지 (o)
스키마는 정적 구성 뿐만 아니라 동적 유지조건 o
디비 하나에 여러개의 외부스키마 o
한차원 높은 데이터 메타데이터 o
스키마 간의 사상 통해 독립성 지원 o

튜플의 유일성
튜플의 무순서성
속성의 무순서성
속성의 원자성


